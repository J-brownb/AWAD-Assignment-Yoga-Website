let dropdown=document.getElementById("dropdownmenu"),menuItems=document.getElementById("menuitems"),loadingIcon=(dropdown.addEventListener("click",function(){menuItems.style.display="block"}),dropdown.addEventListener("mouseleave",function(){menuItems.style.display="none"}),`<div class="d-flex justify-content-center" id="spinner">
<div class="spinner-border" role="status">
  <span class="sr-only">Loading...</span>
</div>
</div>`),loading=document.getElementById("spinner"),weatherUrl=(loading.innerHTML=loadingIcon,"https://weather.visualcrossing.com/VisualCrossingWebServices/rest/services/timeline/ipswich?unitGroup=metric&key=XXX&contentType=json");function weatherCall(count,divID,iCount){fetch(weatherUrl).then(response=>response.json()).then(data=>{document.getElementById(divID);for(let i=iCount;i<count;i++){var sunriseShort=(""+data.days[i].sunrise).slice(0,5),sunsetShort=(""+data.days[i].sunset).slice(0,5),sunriseShort='<li><div class ="date"><h3>'+data.days[i].datetime+"</h3></div><strong>"+data.days[i].conditions+"</strong><br><br>"+`<img src=/images/${data.days[i].icon}.png width="50" height="50">`+"<br><br>"+`🌡️ ${data.days[i].temp}c`+"<br>"+` 🌧️ ${data.days[i].precipprob}%`+" |"+` 💨 ${data.days[i].windspeed}mph`+"<br>"+`☀️ ${sunriseShort}AM`+" |"+` 🌕 ${sunsetShort}PM`+"<hr>"+data.days[i].description+"<br></li>";divID.innerHTML+=sunriseShort,loading.innerHTML=""}})}function dailySummary(){fetch(weatherUrl).then(response=>response.json()).then(data=>{document.getElementById(weeklysummary),document.getElementById(summary);var summaryText="Today's forecast is expected to be: "+data.days[0].description+"<br><br>"+`There is a ${data.days[0].precipprob}% chance of rain today, the temperature will be ${data.days[0].temp}c and the windspeed will be  ${data.days[0].windspeed}mph`;summary.innerHTML+=summaryText,weeklysummary.innerHTML=""+data.description})}weatherCall(7,weather,1),weatherCall(1,single,0),dailySummary(),console.log("test");